<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Par.Range</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Par-Range.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">par-collections-1.1: Generic parallel combinators for data and iteration spaces.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.Par.Range</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Constructing iteration spaces
</a></li><li><a href="#g:2">Combined MapReduce operations on ranges
</a></li><li><a href="#g:3">Misc                
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A mechanism to describe iteration spaces supporting parallel execution.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Range">Range</a>  = <a href="#v:InclusiveRange">InclusiveRange</a> {<ul class="subs"><li><a href="#v:startInd">startInd</a> :: !<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:endInd">endInd</a> :: !<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:seqThresh">seqThresh</a> :: !<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:range">range</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></li><li class="src short"><a href="#v:irange">irange</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></li><li class="src short"><a href="#v:zrange">zrange</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></li><li class="src short"><a href="#v:fullpar">fullpar</a> :: <a href="Data-Par-Range.html#t:Range">Range</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></li><li class="src short"><a href="#v:pmapReduce">pmapReduce</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/deepseq-1.3.0.1/Control-DeepSeq.html#t:NFData">NFData</a> a, ParFuture p, FutContents p a) =&gt; <a href="Data-Par-Range.html#t:Range">Range</a> -&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; p a) -&gt; (a -&gt; a -&gt; p a) -&gt; a -&gt; p a</li><li class="src short"><a href="#v:pmapReduce_">pmapReduce_</a> :: (ParFuture p, FutContents p a) =&gt; <a href="Data-Par-Range.html#t:Range">Range</a> -&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; p a) -&gt; (a -&gt; a -&gt; p a) -&gt; a -&gt; p a</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="Data-Par-Range.html#t:Range">Range</a> -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a>]</li></ul></div><div id="interface"><h1 id="g:1">Constructing iteration spaces
</h1><div class="doc"><p>Beware that ranges include information about whether or not sequential
 <a href="bottoming-out.html">bottoming-out</a> is permitted.  If you are executing parallel loops with
 inter-iteration dependencies, be careful to use <code><a href="Data-Par-Range.html#v:fullpar">fullpar</a></code>.
</p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Range" class="def">Range</a>  </p><div class="doc"><p>An iteration space expressed as an inclusive range of integers,
 i.e. `InclusiveRange 1 3` includes both `1` and `3`.
</p><p>An iteration space also includes information that determines splitting behavior
   (e.g. threshold to bottom out to sequential execution).
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:InclusiveRange" class="def">InclusiveRange</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:startInd" class="def">startInd</a> :: !<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Start, inclusive
</p></dd><dt class="src"><a name="v:endInd" class="def">endInd</a> :: !<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>End, inclusive
</p></dd><dt class="src"><a name="v:seqThresh" class="def">seqThresh</a> :: !<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>For ranges less than or equal to this, switch to sequential execution.
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Range" class="caption collapser" onclick="toggleSection('i:Range')">Instances</p><div id="section.i:Range" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Generator <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Split <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:range" class="def">range</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></p><div class="doc"><p>A simple shorthand for ranges from <code>n</code> to `m-1` (inclusive,exclusive).
</p><p>Note that this function, as well as <code><a href="Data-Par-Range.html#v:irange">irange</a></code> and <code><a href="Data-Par-Range.html#v:zrange">zrange</a></code>, by default produce
 &quot;auto-sequentializing&quot; iteration spaces that choose a threshold for bottoming
 out to sequential execution based on the size of the range and the number of
 processors.
</p></div></div><div class="top"><p class="src"><a name="v:irange" class="def">irange</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></p><div class="doc"><p>A simple shorthand for inclusive ranges from <code>n</code> to <code>m</code>.
</p></div></div><div class="top"><p class="src"><a name="v:zrange" class="def">zrange</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></p><div class="doc"><p>A simple shorthand for ranges from `0` to `n-1`
</p></div></div><div class="top"><p class="src"><a name="v:fullpar" class="def">fullpar</a> :: <a href="Data-Par-Range.html#t:Range">Range</a> -&gt; <a href="Data-Par-Range.html#t:Range">Range</a></p><div class="doc"><p>Tweak an iteration range to exploit all parallelism.  That is, never bottom-out
 to sequential loops.
</p></div></div><h1 id="g:2">Combined MapReduce operations on ranges
</h1><div class="top"><p class="src"><a name="v:pmapReduce" class="def">pmapReduce</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/deepseq-1.3.0.1/Control-DeepSeq.html#t:NFData">NFData</a> a, ParFuture p, FutContents p a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc"><p>iteration range over which to calculate
</p></td></tr><tr><td class="src">-&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; p a)</td><td class="doc"><p>compute one result
</p></td></tr><tr><td class="src">-&gt; (a -&gt; a -&gt; p a)</td><td class="doc"><p>combine two results 
</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>initial result
</p></td></tr><tr><td class="src">-&gt; p a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Computes a binary map/reduce over a finite range.  The range is recursively
 split into two, the result for each half is computed in parallel, and then the two
 results are combined.  The thresholding behavior for the range is obeyed, and a
 sequential loop is used if the splitting bottoms out.
</p><p>For example, the following is a parallel implementation of
</p><pre>  foldl (+) 0 (map (^2) [1..10^6])
</pre><pre> parMapReduce (irange 1 (10^6))
        (\x -&gt; return (x^2))
        (\x y -&gt; return (x+y))
        0
</pre><p>If an automatic threshold is being used in the underlying ranges, answers may vary
 on different machines.  But note that this function does NOT require a commutative
 combining function.  Commutativity, however, is not required.  This will always
 combine lower iteration results on the left and higher on the right.
</p></div></div><div class="top"><p class="src"><a name="v:pmapReduce_" class="def">pmapReduce_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (ParFuture p, FutContents p a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Par-Range.html#t:Range">Range</a></td><td class="doc"><p>iteration range over which to calculate
</p></td></tr><tr><td class="src">-&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; p a)</td><td class="doc"><p>compute one result
</p></td></tr><tr><td class="src">-&gt; (a -&gt; a -&gt; p a)</td><td class="doc"><p>combine two results 
</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>initial result
</p></td></tr><tr><td class="src">-&gt; p a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Data-Par-Range.html#v:pmapReduce">pmapReduce</a></code> that is only weak-head-normal-form (WHNF) strict in
 the folded accumulators.
</p></div></div><h1 id="g:3">Misc                
</h1><div class="top"><p class="src"><a name="v:toList" class="def">toList</a> :: <a href="Data-Par-Range.html#t:Range">Range</a> -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a>]</p><div class="doc"><p>Enumerate the elements in a Range.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>