<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.LVar.PNCounter</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-LVar-PNCounter.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lvish-2.0: Parallel scheduler, LVar data structures, and infrastructure to build more.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.LVar.PNCounter</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a <em>PN-Counter</em>, a counter that allows both
increment and decrement operations.  This is possible because, under
the hood, it's represented with two monotonically growing counters,
one for increments and one for decrements.  The name <a href="PN-Counter.html">PN-Counter</a>
comes from the literature on <em>conflict-free replicated data types</em>.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:PNCounter">PNCounter</a> s</li><li class="src short"><a href="#v:newCounter">newCounter</a> ::  <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s)</li><li class="src short"><a href="#v:newCounterWithValue">newCounterWithValue</a> ::  <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s)</li><li class="src short"><a href="#v:increment">increment</a> :: HasBump e =&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:waitForIncrements">waitForIncrements</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:decrement">decrement</a> :: HasBump e =&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:waitForDecrements">waitForDecrements</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:freezeCounter">freezeCounter</a> :: HasFreeze e =&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:PNCounter" class="def">PNCounter</a> s </p><div class="doc"><p>The counter datatype.
</p></div></div><div class="top"><p class="src"><a name="v:newCounter" class="def">newCounter</a> ::  <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s)</p><div class="doc"><p>Create a new <code><a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a></code> set to zero.
</p></div></div><div class="top"><p class="src"><a name="v:newCounterWithValue" class="def">newCounterWithValue</a> ::  <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s)</p><div class="doc"><p>Create a new <code><a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a></code> with the specified initial value.
</p></div></div><div class="top"><p class="src"><a name="v:increment" class="def">increment</a> :: HasBump e =&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Increment the <code><a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:waitForIncrements" class="def">waitForIncrements</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Wait for the number of increments to reach a given number.
</p></div></div><div class="top"><p class="src"><a name="v:decrement" class="def">decrement</a> :: HasBump e =&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Decrement the <code><a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:waitForDecrements" class="def">waitForDecrements</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Wait for the number of decrements to reach a given number.
</p></div></div><div class="top"><p class="src"><a name="v:freezeCounter" class="def">freezeCounter</a> :: HasFreeze e =&gt; <a href="Data-LVar-PNCounter.html#t:PNCounter">PNCounter</a> s -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Get the exact contents of the counter.  As with any
 quasi-deterministic operation, using <code><a href="Data-LVar-PNCounter.html#v:freezeCounter">freezeCounter</a></code> may cause your
 program to exhibit a limited form of nondeterminism: it will never
 return the wrong answer, but it may include synchronization bugs
 that can (nondeterministically) cause exceptions.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>