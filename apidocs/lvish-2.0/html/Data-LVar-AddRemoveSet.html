<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.LVar.AddRemoveSet</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-LVar-AddRemoveSet.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lvish-2.0: Parallel scheduler, LVar data structures, and infrastructure to build more.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.LVar.AddRemoveSet</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides sets that allow both addition and removal of
elements.  This is possible because, under the hood, it's represented
with two monotonically growing sets, one for additions and one for
removals.  It is inspired by <em>2P-Sets</em> from the literature on
<em>conflict-free replicated data types</em>.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:AddRemoveSet">AddRemoveSet</a> s a</li><li class="src short"><a href="#v:newEmptySet">newEmptySet</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a)</li><li class="src short"><a href="#v:newSet">newSet</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Set.html#t:Set">Set</a> a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a)</li><li class="src short"><a href="#v:newFromList">newFromList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; [a] -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a)</li><li class="src short"><a href="#v:insert">insert</a> :: (HasPut e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:waitAddedElem">waitAddedElem</a> :: (HasGet e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:waitAddedSize">waitAddedSize</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:remove">remove</a> :: (HasPut e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:waitRemovedElem">waitRemovedElem</a> :: (HasGet e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:waitRemovedSize">waitRemovedSize</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</li><li class="src short"><a href="#v:freezeSet">freezeSet</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a, HasFreeze e) =&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Set.html#t:Set">Set</a> a)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:AddRemoveSet" class="def">AddRemoveSet</a> s a </p><div class="doc"><p>The set datatype.
</p></div></div><div class="top"><p class="src"><a name="v:newEmptySet" class="def">newEmptySet</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a)</p><div class="doc"><p>Create a new, empty <code><a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:newSet" class="def">newSet</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Set.html#t:Set">Set</a> a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a)</p><div class="doc"><p>Create a new <code><a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a></code> populated with initial elements.
</p></div></div><div class="top"><p class="src"><a name="v:newFromList" class="def">newFromList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; [a] -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a)</p><div class="doc"><p>A simple convenience function.  Create a new <code>ISet</code> drawing
 initial elements from an existing list.
</p></div></div><div class="top"><p class="src"><a name="v:insert" class="def">insert</a> :: (HasPut e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Put a single element in the set.  (WHNF) Strict in the element
 being put in the set.
</p></div></div><div class="top"><p class="src"><a name="v:waitAddedElem" class="def">waitAddedElem</a> :: (HasGet e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Wait for the set to contain a specified element.
</p></div></div><div class="top"><p class="src"><a name="v:waitAddedSize" class="def">waitAddedSize</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Wait on the size of the set of added elements.
</p></div></div><div class="top"><p class="src"><a name="v:remove" class="def">remove</a> :: (HasPut e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Remove a single element from the set.
</p></div></div><div class="top"><p class="src"><a name="v:waitRemovedElem" class="def">waitRemovedElem</a> :: (HasGet e, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; a -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Wait for a single element to be removed from the set.
</p></div></div><div class="top"><p class="src"><a name="v:waitRemovedSize" class="def">waitRemovedSize</a> :: HasGet e =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s ()</p><div class="doc"><p>Wait on the size of the set of removed elements.
</p></div></div><div class="top"><p class="src"><a name="v:freezeSet" class="def">freezeSet</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a, HasFreeze e) =&gt; <a href="Data-LVar-AddRemoveSet.html#t:AddRemoveSet">AddRemoveSet</a> s a -&gt; <a href="Control-LVish-Internal.html#t:Par">Par</a> e s (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Set.html#t:Set">Set</a> a)</p><div class="doc"><p>Get the exact contents of the set.  As with any
 quasi-deterministic operation, using <code><a href="Data-LVar-AddRemoveSet.html#v:freezeSet">freezeSet</a></code> may cause your
 program to exhibit a limited form of nondeterminism: it will never
 return the wrong answer, but it may include synchronization bugs
 that can (nondeterministically) cause exceptions.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>